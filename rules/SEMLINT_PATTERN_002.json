{
  "id": "SEMLINT_PATTERN_002",
  "title": "Ambient pattern is respected",
  "severity_default": "warn",
  "include_globs": ["src/**/*.ts"],
  "exclude_globs": ["**/*.test.ts", "**/*.spec.ts"],
  "diff_regex": [
    "^[+-].*\\b(async|await|Promise|try|catch|throw|switch|map|filter|reduce|forEach)\\b",
    "^[+-].*\\b(import|export|class|interface|type|function|return)\\b"
  ],
  "prompt": "You are Semlint. Review ONLY the modified code in the provided DIFF and check whether ambient implementation patterns are respected. Compare new or changed code against nearby established patterns for control flow, async handling, error propagation, data transformation, module boundaries, and function/class structure. Flag clear regressions where the proposed change deviates from consistent local patterns without obvious justification. Ignore untouched legacy code and acceptable intentional improvements. Return valid JSON only with shape {\"diagnostics\":[...]} and each diagnostic must include: rule_id, severity, message, file, line."
}
